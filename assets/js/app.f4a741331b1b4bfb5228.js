!function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&p.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(r=!1)}r&&(a.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},o={0:0},a=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;a.push([4,1]),n()}([,function(e,t,n){var r=n(2),o=n(3);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1},i=(r(e.i,o,a),o.locals?o.locals:{});e.exports=i},,function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(1);var r=n(6),o=n(0);function a(e,t,n){var r,o=document.createElement(e);return(r=o.classList).add.apply(r,t),n&&o.append.apply(o,n),o}var i=function(){function e(){}return e.prototype.addToHtml=function(e){return e.append(this.htmlElem),this},e.prototype.createElem=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.htmlElem=a(e,t),this},e.prototype.addToElem=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.htmlElem).append.apply(e,t),this},e.prototype.cleanElem=function(){return this.htmlElem.innerHTML="",this},e.prototype.getElemHtml=function(){return this.htmlElem},e}();var s=function(e){var t=a("h3",["swiper-slide__card__title"],[e.title]),n=a("div",["swiper-slide__card__year"],[e.year]),r=a("span",["swiper-slide__card__rating-icon","material-icons"],["grade"]),o=a("div",["swiper-slide__card__rating"],[r,e.rating]),i=a("header",["swiper-slide__card__header"],[t,n,o]),s=a("a",["swiper-slide__card__img-ref"]);s.setAttribute("href","https://www.imdb.com/title/"+e.imdbID+"/"),s.setAttribute("target","_blank");var c=a("img",["swiper-slide__card__img"]);c.setAttribute("src","N/A"===e.poster?"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Video-film.svg/710px-Video-film.svg.png":e.poster),s.append(c);var u=a("div",["swiper-slide__card__aside"],[s]),l=a("div",["swiper-slide__card"],[u,i]);return a("div",["swiper-slide"],[l])};var c,u=function(){var e=a("div",["loadingio-spinner-double-ring-fpglzxn5wk8"]);return e.innerHTML=' <div class="ldio-dcnxrt1cujs">\n  <div></div>\n  <div></div>\n  <div><div></div></div>\n  <div><div></div></div>\n  </div>',e},l=(c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),d=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function h(e){var t=[""];return"string"!=typeof e&&(t=e.map((function(e){return s(e)}))),t}var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.swiperSettings={slidesPerView:1,grabCursor:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},preloadImages:!1,lazyLoading:!0,lazyLoadingInPrevNext:!0,updateOnWindowResize:!0,breakpoints:{1140:{slidesPerView:4},840:{slidesPerView:3},540:{slidesPerView:2},240:{slidesPerView:1}}},t}return l(t,e),t.prototype.createCarousel=function(){return e.prototype.createElem.call(this,"div","swiper-container","hide"),this},t.prototype.createCarouselWrap=function(){return this.swiperWrap=a("div",["swiper-wrapper"]),e.prototype.addToElem.call(this,this.swiperWrap),this},t.prototype.addNextSlides=function(){return d(this,void 0,void 0,(function(){var e,t=this;return p(this,(function(n){switch(n.label){case 0:return[4,this.filmsData.loadNextPage()];case 1:return e=n.sent(),h(e).forEach((function(e){return t.swiper.appendSlide(e)})),[2]}}))}))},t.prototype.addSlides=function(e){var t;if(this.swiperWrap){var n=h(e);(t=this.swiperWrap).append.apply(t,n)}return this},t.prototype.addControls=function(){var t=a("div",["swiper-button-prev"]),n=a("div",["swiper-button-next"]);return e.prototype.addToElem.call(this,t,n),this},t.prototype.addLoader=function(){return this.loader=u(),this.swiperContainer.innerHTML="",this.swiperContainer.append(this.loader),this},t.prototype.removeLoader=function(){return this.loader&&this.loader.remove(),this},t.prototype.activateCarousel=function(){var e=this,t=new o.a(".swiper-container",this.swiperSettings);return t.on("slideChange",(function(){t.isEnd&&e.addNextSlides()})),this.swiper=t,this},t.prototype.loadCarousel=function(e){return d(this,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return this.addLoader(),[4,this.filmsData.getFilmsData(e)];case 1:return t=n.sent(),this.removeLoader().createCarousel().addToHtml(this.swiperContainer),this.createCarouselWrap().addSlides(t).addControls().activateCarousel(),this.getElemHtml().classList.remove("hide"),[2]}}))}))},t.prototype.setData=function(e){return this.filmsData=e,this},t.prototype.addContainer=function(e){return this.swiperContainer=e,this},t}(i),y=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return y(t,e),t.prototype.createHeader=function(){return e.prototype.createElem.call(this,"header","header"),this},t.prototype.addHeaderTitle=function(){var t=a("h1",["header__title"],["MovieSearch"]);return e.prototype.addToElem.call(this,t),this},t}(i),m=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t.prototype.createMain=function(){return e.prototype.createElem.call(this,"main","main"),this},t}(i);function w(e){var t=a("i",["material-icons","mdc-icon-button__icon","mdc-icon-button__icon--on"],[e]),n=a("i",["material-icons","mdc-icon-button__icon"],[e+"_border"]),r=["search-panel__btn-"+e,"search-panel__btn","mdc-icon-button","mdc-ripple-upgraded--unbounded","mdc-ripple-upgraded","mdc-icon-button--on"],o=a("span",["search-panel__btn-icon"]);o.setAttribute("data-action",e);var i=a("button",r,[o,t,n]);return i.setAttribute("aria-pressed","true"),i.setAttribute("aria-label","Add to favorites"),i.setAttribute("style","--mdc-ripple-fg-size:28px; --mdc-ripple-fg-scale:1.71429; --mdc-ripple-left:10px; --mdc-ripple-top:10px;"),i}var v=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),k=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isKeyboard=!1,t}return v(t,e),Object.defineProperty(t.prototype,"keyboardElem",{set:function(e){this.keyboard=e},enumerable:!0,configurable:!0}),t.prototype.setSwiper=function(e){return this.swiper=e,this},t.prototype.createPanel=function(){return e.prototype.createElem.call(this,"div","search-panel"),this},t.prototype.addElementsToPanel=function(){var t,n,r,o,i=w("search"),s=w("close"),c=w("keyboard"),u=(t='\n  <span class="mdc-text-field__ripple"></span>\n  <input class="mdc-text-field__input" autofocus autocomplete="off" type="text" aria-labelledby="my-label-id">\n  <span class="mdc-floating-label" id="my-label-id">'+"Enter film name"+"</span>\n",(n=a("label",["search-panel__input-label","mdc-text-field","mdc-text-field--filled"])).innerHTML=t,a("div",["search-panel__input"],[n])),l=(r="search",(o=a("span",["mdc-button__ripple"])).setAttribute("data-action",r),a("button",["mdc-button","mdc-button--raised"],[o,r]));return e.prototype.getElemHtml.call(this).append(i,u,s,c,l),this},t.prototype.addHandlers=function(){var t=this,n=e.prototype.getElemHtml.call(this).querySelector(".mdc-text-field__input"),r={close:function(e){e.value&&(e.value="",e.focus())},search:function(e){t.swiper.loadCarousel(e.value)},keyboard:function(){if(document.querySelector(".keyboard__wrap").classList.toggle("keyboard__wrap_hide"),t.isKeyboard)return t.isKeyboard=!t.isKeyboard,void t.keyboard.getControlsElem().removeHandler();t.isKeyboard=!t.isKeyboard,t.keyboard.getControlsElem().setHandler()}};return e.prototype.getElemHtml.call(this).addEventListener("click",(function(e){var t=e.target.dataset.action;t&&r[t]&&r[t](n)})),n.addEventListener("keydown",(function(e){"Enter"===e.code&&r.search(e.currentTarget)})),this},t}(i),_=function(e,t,n,r,o){this.title=e,this.poster=t,this.year=n,this.rating=r,this.imdbID=o},L=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},C=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};function x(e){document.querySelector(".main_errors").innerHTML=e}function P(e){document.querySelector(".main_translate").innerHTML=e}var E=function(){function e(){this.yApiKey="trnsl.1.1.20200426T175308Z.6d0543c65f2388ba.ce1be9f7ff5441d99a28cd7388ab7fa4778f9747",this.omdbApiKey="93504f62",this.curPage=1}return e.prototype.getTranslation=function(e){return L(this,void 0,void 0,(function(){var t,n,r,o,a;return C(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),t="https://translate.yandex.net/api/v1.5/tr.json/translate?key="+this.yApiKey+"&text= "+e+" &lang=ru-en",[4,fetch(t)];case 1:return(n=i.sent()).ok?[4,n.json()]:[3,3];case 2:return r=i.sent(),o=r.text[0],P("Showing results for '"+((a=o.trim())[0].toUpperCase()+a.substring(1))+"'"),this.translateRequest=a,[2,a];case 3:throw new Error(""+n.status);case 4:return x(i.sent()),[2,e];case 5:return[2]}}))}))},e.prototype.getFilmsRating=function(e){return L(this,void 0,void 0,(function(){var t,n;return C(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),t="https://www.omdbapi.com/?i="+e+"&apikey="+this.omdbApiKey,[4,fetch(t)];case 1:return(n=r.sent()).ok?[4,n.json()]:[3,3];case 2:return[2,r.sent()];case 3:throw new Error(""+n.status);case 4:return x(r.sent()),[2,""];case 5:return[2]}}))}))},e.prototype.formatFilmsData=function(e){return L(this,void 0,void 0,(function(){var t,n,r,o,a,i;return C(this,(function(s){switch(s.label){case 0:return t=e.Title,n=e.Poster,r=e.Year,o=e.imdbID,[4,this.getFilmsRating(o)];case 1:return a=s.sent(),i="0","object"==typeof a&&(i=a.imdbRating),[2,new _(t,n,r,i,o)]}}))}))},e.prototype.getFilmsData=function(e){return L(this,void 0,void 0,(function(){var t;return C(this,(function(n){switch(n.label){case 0:return x(""),P(""),this.request=e,/[а-я]/i.test(t=e)?[4,this.getTranslation(t)]:[3,2];case 1:t=n.sent(),n.label=2;case 2:return[4,this.loadFirstPage(t)];case 3:return[2,n.sent()]}}))}))},e.prototype.loadFirstPage=function(e){return L(this,void 0,void 0,(function(){var t;return C(this,(function(n){switch(n.label){case 0:return t="https://www.omdbapi.com/?s="+e+"&apikey="+this.omdbApiKey,[4,this.loadData(t)];case 1:return[2,n.sent()]}}))}))},e.prototype.loadNextPage=function(){return L(this,void 0,void 0,(function(){var e,t,n,r;return C(this,(function(o){switch(o.label){case 0:return e="",this.curPage===this.pages?[3,2]:(t=this.curPage+1,this.curPage=t,n=this.request,this.translateRequest&&(n=this.translateRequest),r="https://www.omdbapi.com/?s="+n+"&page="+t+"&apikey="+this.omdbApiKey,[4,this.loadData(r)]);case 1:e=o.sent(),o.label=2;case 2:return[2,e]}}))}))},e.prototype.loadData=function(e){return L(this,void 0,void 0,(function(){var t,n,r,o,a;return C(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),[4,fetch(e)];case 1:return(t=i.sent()).ok?[4,t.json()]:[3,5];case 2:return"True"!==(n=i.sent()).Response?[3,4]:(r=n.Search,o=n.totalResults,this.pages=Math.ceil(parseInt(o,10)/10),a=r.map(this.formatFilmsData.bind(this)),[4,Promise.all(a)]);case 3:return[2,i.sent()];case 4:return x("No results for "+this.request),[2,""];case 5:throw new Error(""+t.status);case 6:return x(i.sent()),[2,""];case 7:return[2]}}))}))},e}(),S=function(){function e(){this.classSet=[["backquote","digit1","digit2","digit3","digit4","digit5","digit6","digit7","digit8","digit9","digit0","minus","equal"],["keyq","keyw","keye","keyr","keyt","keyy","keyu","keyi","keyo","keyp","bracketleft","bracketright"],["keya","keys","keyd","keyf","keyg","keyh","keyj","keyk","keyl","semicolon","quote"],["keyz","keyx","keyc","keyv","keyb","keyn","keym","comma","period","slash","backslash"]]}return Object.defineProperty(e.prototype,"container",{get:function(){return this._container},set:function(e){this._container=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBoard",{get:function(){return this._keyBoard},set:function(e){this._keyBoard=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyboardModal",{get:function(){return this._keyboardModal},set:function(e){this._keyboardModal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputElem",{get:function(){return this._inputElem},set:function(e){this._inputElem=e},enumerable:!0,configurable:!0}),e.prototype.buildView=function(){var e=document.createElement("div");e.classList.add("wrap"),this.container.append(e);var t=document.createElement("div");t.classList.add("description");var n=document.createElement("p");n.textContent="Ctrl+Alt switch language",t.append(n);var r=document.createElement("p");r.textContent="Make keyboard on Windows",t.append(r),e.append(t),this.keyBoard=document.createElement("div"),this.keyBoard.classList.add("keyboard"),e.append(this.keyBoard);var o=this.keyboardModal,a=o.setOfLangs,i=o.curLang,s=a[""+o.langCase+i];this.buildKeyboard(s,this.keyBoard),this.buildBorRow(this.keyBoard)},e.prototype.buildBorRow=function(e){var t=["controlleft","altleft","lang","space","altright","arrowleft","arrowdown","arrowright","controlright"],n=document.createElement("div");n.classList.add("row"),["Ctrl","Alt","Lang","Space","Alt","←","↓","→","Ctrl"].forEach((function(e,r){var o=document.createElement("div");o.classList.add("key"),o.classList.add("key-"+t[r]),o.append(e),n.append(o)})),e.append(n)},e.prototype.buildKeyboard=function(e,t){var n=this;e.forEach((function(e,r){var o=n.classSet[r],a=document.createElement("div"),i=document.createElement("div");a.classList.add("row"),i.classList.add("change-key"),t.append(a),e.forEach((function(e,t){var n=o[t],r=document.createElement("div");r.classList.add("key"),r.classList.add("key-"+n),r.append(e),i.append(r),a.append(i)})),n.buildMainBut(a,r)}))},e.prototype.buildMainBut=function(e,t){var n=[["backspace"],["tab","delete"],["capslock","enter"],["shiftleft","arrowup","shiftright"]];[["Backspace"],["Tab","Delete"],["CapsLock","Enter"],["Shift","↑","Shift"]][t].forEach((function(r,o){var a=document.createElement("div");a.classList.add("key"),a.append(r),a.classList.add("key-"+n[t][o]),0===o&&"Backspace"!==r?e.prepend(a):e.append(a)}))},e.prototype.updateText=function(){this.inputElem.value=this.keyboardModal.textValue,this.updateCorPos()},e.prototype.updateCorPos=function(){var e=this.keyboardModal,t=this.inputElem;t.selectionEnd-e.lastCorPos>0?t.selectionEnd=e.lastCorPos:t.selectionStart=e.lastCorPos},e.prototype.update=function(){var e=this._keyboardModal,t=e.setOfLangs,n=e.curLang,r=t[""+e.langCase+n];this.changeKeys(r)},e.prototype.changeKeys=function(e){var t=this;document.querySelectorAll(".change-key").forEach((function(n,r){n.innerHTML="",e[r].forEach((function(e,o){var a=document.createElement("div");a.classList.add("key"),a.append(e),a.classList.add("key-"+t.classSet[r][o]),n.append(a)}))}))},e.prototype.addAnimateKey=function(e){e.classList.add("active-key")},e.prototype.delAnimateKey=function(e){e.classList.remove("active-key")},e}(),V=function(){function e(){this._totalLangs=["ru","en"],this._caseLangs=["low","up"],this._curLang="en",this._langCase="low",this._textValue="",this._keyLangChange=["alt","ctrl"],this._keyPressed=new Set,this.curLang=this.fromStorage(),this._langsSet={lowru:[["ё","1","2","3","4","5","6","7","8","9","0","-","="],["й","ц","у","к","е","н","г","ш","щ","з","х","ъ"],["ф","ы","в","а","п","р","о","л","д","ж","э"],["я","ч","с","м","и","т","ь","б","ю",".","\\"]],upru:[["Ё","!",'"',"№",";","%",":","?","*","(",")","_","+"],["Й","Ц","У","К","Е","Н","Г","Ш","Щ","З","Х","Ъ"],["Ф","Ы","В","А","П","Р","О","Л","Д","Ж","Э"],["Я","Ч","С","М","И","Т","Ь","Б","Ю",",","/"]],lowen:[["`","1","2","3","4","5","6","7","8","9","0","-","="],["q","w","e","r","t","y","u","i","o","p","[","]"],["a","s","d","f","g","h","j","k","l",";","'"],["z","x","c","v","b","n","m",",",".","/","\\"]],upen:[["~","!","@","#","$","%","^","&","*","(",")","_","+"],["Q","W","E","R","T","Y","U","I","O","P","{","}"],["A","S","D","F","G","H","J","K","L",":",'"'],["Z","X","C","V","B","N","M","<",">","?","|"]]}}return Object.defineProperty(e.prototype,"keyPressed",{get:function(){return this._keyPressed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyLangChange",{get:function(){return this._keyLangChange},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caseLangs",{get:function(){return this._caseLangs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastCorPos",{get:function(){return this._lastCorPos},set:function(e){this._lastCorPos=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyboardView",{get:function(){return this._keyboardView},set:function(e){this._keyboardView=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"textValue",{get:function(){return this._textValue},set:function(e){this._textValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"setOfLangs",{get:function(){return this._langsSet},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"curLang",{get:function(){return this._curLang},set:function(e){this._curLang=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"totalLangs",{get:function(){return this._totalLangs},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"langCase",{get:function(){return this._langCase},set:function(e){this._langCase=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changeTextValue",{set:function(e){this.keyboardView.inputElem.focus(),"lang"===e&&this.changeLang(),e.length>1?this[e]?this[e]():this.langChange(e):this.addSymbol(e),this.keyboardView.updateText()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coretStartPos",{get:function(){return this.keyboardView.inputElem.selectionStart},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"coretEndPos",{get:function(){return this.keyboardView.inputElem.selectionEnd},enumerable:!0,configurable:!0}),e.prototype.setCoretPos=function(e){0===this.coretEndPos&&-1===e||(this.lastCorPos=this.coretEndPos+e)},e.prototype.changeInputValue=function(e){var t=this,n=t.coretStartPos,r={backspace:function(){t.lastCorPos=n-1,t.textValue=t.textValue.slice(0,t.lastCorPos).concat(t.textValue.slice(n,t.textValue.length))},delete:function(){t.lastCorPos=n,t.textValue=t.textValue.slice(0,t.lastCorPos).concat(t.textValue.slice(n+1,t.textValue.length))},default:function(){t.lastCorPos=n+e.length,t.textValue=t.textValue.slice(0,n).concat(e,t.textValue.slice(n,t.textValue.length))}};r[e]?r[e]():r.default(),this.keyboardView.updateText()},e.prototype.arrowleft=function(){this.setCoretPos(-1),this.keyboardView.updateText()},e.prototype.arrowright=function(){this.setCoretPos(1),this.keyboardView.updateText()},e.prototype.arrowdown=function(){this.setCoretPos(-1),this.keyboardView.updateText()},e.prototype.arrowup=function(){this.setCoretPos(1),this.keyboardView.updateText()},e.prototype.backspace=function(){this.changeInputValue("backspace")},e.prototype.delete=function(){this.changeInputValue("delete")},e.prototype.capslock=function(){var e=this.caseLangs.indexOf(this.langCase)+1===this.caseLangs.length?0:this.caseLangs.indexOf(this.langCase)+1;this.langCase=this.caseLangs[e],this.lastCorPos=this.coretStartPos,this.keyboardView.update()},e.prototype.changeLang=function(){var e=this.totalLangs.indexOf(this.curLang)+1===this.totalLangs.length?0:this.totalLangs.indexOf(this.curLang)+1;this.curLang=this.totalLangs[e],this.lastCorPos=this.coretStartPos,this.saveLang(this.curLang),this.keyboardView.update()},e.prototype.langChange=function(e){this.keyPressed.add(e);for(var t=0,n=this.keyLangChange;t<n.length;t++){var r=n[t];if(!this.keyPressed.has(r))return}this.changeLang()},e.prototype.saveLang=function(e){localStorage.setItem("lang",e)},e.prototype.fromStorage=function(){return localStorage.getItem("lang")?localStorage.getItem("lang"):this.totalLangs[1]},e.prototype.deleteChangeKeys=function(e){this.keyPressed.has(e)&&this.keyPressed.delete(e)},e.prototype.shift=function(){this.capslock()},e.prototype.space=function(){this.changeInputValue(" ")},e.prototype.tab=function(){this.changeInputValue("    ")},e.prototype.enter=function(){this.changeInputValue("\n")},e.prototype.addSymbol=function(e){var t={low:function(e){return e.toLowerCase()},up:function(e){return e.toUpperCase()}}[this.langCase](e);this.changeInputValue(t)},e.prototype.animateKey=function(e,t){var n=this,r={add:function(e){n.keyboardView.addAnimateKey(e)},del:function(e){n.keyboardView.delAnimateKey(e)}};r[t]&&r[t](e)},e}(),O=function(){function e(){var e=this;this.arrows={"↑":"arrowup","→":"arrowright","↓":"arrowdown","←":"arrowleft"},this.keydownHandler=function(t){t.preventDefault();var n=t.key,r=t.code,o=document.querySelector(".key-"+r.toLowerCase());"Shift"===n&&t.repeat||o&&("enter"===o.textContent.toLowerCase()&&e.searchName(),e.arrows[o.textContent.toLowerCase()]?e.keyboardModal.changeTextValue=e.arrows[o.textContent.toLowerCase()]:e.keyboardModal.changeTextValue=o.textContent.toLowerCase(),e.keyboardModal.animateKey(o,"add"))},this.keyupHandler=function(t){t.preventDefault();var n=t.key,r=t.code,o=document.querySelector(".key-"+r.toLowerCase());"Shift"===n&&(e.keyboardModal.changeTextValue=o.textContent.toLowerCase()),o&&(e.keyboardModal.deleteChangeKeys(o.textContent.toLowerCase()),e.keyboardModal.animateKey(o,"del"))},this.mousedownHandler=function(t){var n=t.target,r=n.textContent;n.classList.contains("key")&&("enter"===r.toLowerCase()&&e.searchName(),e.arrows[r.toLowerCase()]?e.keyboardModal.changeTextValue=e.arrows[r.toLowerCase()]:e.keyboardModal.changeTextValue=r.toLowerCase(),e.keyboardModal.animateKey(t.target,"add"))},this.mouseupHandler=function(t){var n=t.target,r=n.textContent,o=n.classList;"Shift"===r&&(e.keyboardModal.changeTextValue=r.toLowerCase()),o.contains("key")&&(e.keyboardModal.deleteChangeKeys(r.toLowerCase()),e.keyboardModal.animateKey(t.target,"del"))}}return Object.defineProperty(e.prototype,"keyboardModal",{get:function(){return this._keyboardModal},set:function(e){this._keyboardModal=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"field",{get:function(){return this._field},set:function(e){this._field=e},enumerable:!0,configurable:!0}),e.prototype.setHandler=function(){this.field&&(this.field.addEventListener("keydown",this.keydownHandler),this.field.addEventListener("keyup",this.keyupHandler),this.field.addEventListener("mousedown",this.mousedownHandler),this.field.addEventListener("mouseup",this.mouseupHandler))},e.prototype.removeHandler=function(){this.field&&(this.field.removeEventListener("keydown",this.keydownHandler),this.field.removeEventListener("keyup",this.keyupHandler),this.field.removeEventListener("mousedown",this.mousedownHandler),this.field.removeEventListener("mouseup",this.mouseupHandler))},e.prototype.searchName=function(){var e=document.querySelector(".mdc-text-field__input");this.swiper.loadCarousel(e.value)},e.prototype.setSwiper=function(e){this.swiper=e},e}(),T=function(){function e(e,t){this.container=e,this.outputElem=t}return e.prototype.getControlsElem=function(){return this.controls},e.prototype.createView=function(){return this.view=new S,this.view.container=this.container,this},e.prototype.createModal=function(){return this.modal=new V,this.modal.keyboardView=this.view,this},e.prototype.createControls=function(){return this.controls=new O,this.controls.keyboardModal=this.modal,this.controls.field=document,this},e.prototype.createKeyboard=function(){return this.view.keyboardModal=this.modal,this.view.buildView(),this.view.inputElem=this.outputElem,this},e.prototype.setSwiper=function(e){return this.controls.setSwiper(e),this},e}(),M=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}c((r=r.apply(e,t||[])).next())}))},j=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};document.addEventListener("DOMContentLoaded",(function(){return M(this,void 0,void 0,(function(){var e,t,n,o,i,s,c,u,l,d,p;return j(this,(function(h){switch(h.label){case 0:return e=document.body,t=new b,n=new g,o=new k,i=new f,s=a("div",["swiper"]),c=a("div",["main_errors"]),u=a("div",["main_translate"]),l=a("div",["keyboard__wrap","keyboard__wrap_hide"]),t.createHeader().addHeaderTitle().addToHtml(e),n.createMain().addToHtml(e),o.createPanel().addElementsToPanel().addHandlers().setSwiper(i).addToHtml(n.getElemHtml()),new r.a(document.querySelector(".mdc-text-field")),n.addToElem(c).addToElem(u).addToElem(l).addToElem(s),[4,i.createCarousel().addContainer(s).setData(new E).loadCarousel("dream")];case 1:return h.sent(),d=document.querySelector(".mdc-text-field__input"),(p=new T(l,d)).createView().createModal().createControls().createKeyboard().setSwiper(i),o.keyboardElem=p,[2]}}))}))}))}]);